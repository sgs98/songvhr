(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c2028a2"],{5865:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("员工资料")])},l=[],n={name:"PerEmp"},r=n,s=i("2877"),o=Object(s["a"])(r,a,l,!1,null,"70d95099",null);t["default"]=o.exports},"5a4a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",clear:e.initEmpSalary},on:{clear:e.initEmpSalary},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmpSalary(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initEmpSalary}},[e._v(" 搜索 ")])],1),i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddView}},[e._v(" 调动员工薪资 ")])],1)]),i("div",{staticStyle:{"margin-top":"8px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.Persalarys,stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"employee.name",fixed:"",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"employee.phone",label:"联系方式",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"employee.idcard",label:"身份证",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"beforesalary",label:"调动前薪资",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"aftersalary",label:"调动后薪资",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"asdate",label:"调动时间",align:"center",width:"150"}}),i("el-table-column",{attrs:{prop:"reason",label:"调动原因",align:"center",width:"300"}}),i("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"300"}}),i("el-table-column",{attrs:{fixed:"right",width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},on:{click:function(i){return e.showEditView(t.row)}}},[e._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"danger"},on:{click:function(i){return e.deletePersalary(t.row)}}},[e._v("删除 ")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"60%",height:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"empForm",attrs:{rules:e.rules,model:e.Persalary}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("div",{staticStyle:{display:"inline-flex"}},[i("el-input",{staticStyle:{width:"200px",display:"none"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.Persalary.eid,callback:function(t){e.$set(e.Persalary,"eid",t)},expression:"Persalary.eid"}}),i("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",readonly:"",placeholder:"请输入员工姓名"},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}}),i("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"mini"},on:{click:e.showEmp}},[e._v("选择员工")])],1)])],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"调动前薪资:",prop:"beforesalary"}},[i("el-input",{staticStyle:{width:"295px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit",placeholder:"请输入调动前薪资"},model:{value:e.Persalary.beforesalary,callback:function(t){e.$set(e.Persalary,"beforesalary",t)},expression:"Persalary.beforesalary"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"调动后薪资:",prop:"aftersalary"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入调动后薪资"},model:{value:e.Persalary.aftersalary,callback:function(t){e.$set(e.Persalary,"aftersalary",t)},expression:"Persalary.aftersalary"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"调动原因:",prop:"reason"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入调动原因"},model:{value:e.Persalary.reason,callback:function(t){e.$set(e.Persalary,"reason",t)},expression:"Persalary.reason"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:15}},[i("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:e.Persalary.remark,callback:function(t){e.$set(e.Persalary,"remark",t)},expression:"Persalary.remark"}})],1)],1)],1)],1)],1),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.AddPersalary}},[e._v("确 定")])],1),i("el-dialog",{attrs:{visible:e.dialogVisible2,width:"60%",height:"50%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("PerEmp",{on:{"child-even":e.parentEven}})],1)],1)},l=[],n=(i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-table",{attrs:{data:e.emp.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})),stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"name",fixed:"",align:"left",label:"姓名",width:"90"}}),i("el-table-column",{attrs:{prop:"gender",label:"性别",align:"center",width:"85"}}),i("el-table-column",{attrs:{prop:"birthday",label:"出生日期",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"dname",label:"部门名称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"jname",label:"职称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"idcard",label:"身份证",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"salarys",label:"薪资",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"center",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"address",width:"220",align:"center",label:"联系地址"}}),i("el-table-column",{attrs:{fixed:"right",width:"200",align:"center",label:"操作"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.emitToParent(t.row)}}},[e._v("选择")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total2},on:{"current-change":e.currentChange2,"size-change":e.sizeChange2}})],1)],1)}),r=[],s={name:"PerEmp",data:function(){return{emp:[],page2:1,size2:10,total2:0,search:""}},methods:{initEmp:function(){var e=this;this.getRequest("/personnel/train/emp?page="+this.page2+"&size="+this.size2).then((function(t){t&&(e.emp=t.data,e.total2=t.total)}))},emitToParent:function(e){this.$emit("child-even",e)},currentChange2:function(e){this.page2=e,this.initEmp()},sizeChange2:function(e){this.size2=e,this.initEmp()}},mounted:function(){this.initEmp()}},o=s,p=i("2877"),c=Object(p["a"])(o,n,r,!1,null,"38c8582d",null),d=c.exports,u={name:"Persalary",data:function(){return{title:"",dialogVisible2:!1,inputName:"",rules:{aftersalary:[{required:!0,message:"不能为空",trigger:"blur"}],reason:[{required:!0,message:"不能为空",trigger:"blur"}],remark:[{required:!0,message:"不能为空",trigger:"blur"}]},keywords:"",Persalarys:[],total:0,size:10,page:1,dialogVisible:!1,Persalary:{eid:"",beforesalary:"",aftersalary:"",reason:"",remark:""}}},components:{PerEmp:d},methods:{empty:function(){this.Persalary.eid="",this.Persalary.beforesalary="",this.Persalary.aftersalary="",this.Persalary.reason="",this.Persalary.remark="",this.inputName="",this.Persalary.id=""},AddPersalary:function(){var e=this;this.$refs["empForm"].validate((function(t){t&&(e.Persalary.id?e.putRequest("/personnel/salary/",e.Persalary).then((function(t){t&&(e.dialogVisible=!1,e.initEmpSalary(),e.empty())})):e.inputName&&e.postRequest("/personnel/salary/",e.Persalary).then((function(t){t&&(e.dialogVisible=!1,e.initEmpSalary(),e.empty())})))}))},parentEven:function(e){null==e.salarys?(this.Persalary.beforesalary="0",this.dialogVisible2=!1,this.Persalary.eid=e.id,this.inputName=e.name):(this.Persalary.eid=e.id,this.inputName=e.name,this.Persalary.beforesalary=e.salarys,this.dialogVisible2=!1)},showEmp:function(){this.dialogVisible2=!0},showAddView:function(){this.title="添加员工薪资",this.dialogVisible=!0,this.empty()},initEmpSalary:function(){var e=this;this.getRequest("/personnel/salary/?page="+this.page+"&size="+this.size+"&keywords="+this.keywords).then((function(t){t&&(e.Persalarys=t.data,e.total=t.total)}))},currentChange:function(e){this.page=e,this.initEmpSalary()},sizeChange:function(e){this.size=e,this.initEmpSalary()},showEditView:function(e){this.inputName=e.employee.name,this.title="编辑员工薪资",this.dialogVisible=!0,this.Persalary=e,this.Persalary.beforesalary=e.aftersalary},deletePersalary:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.employee.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/personnel/salary/"+e.id).then((function(e){e&&t.initEmpSalary()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},mounted:function(){this.initEmpSalary()}},m=u,h=Object(p["a"])(m,a,l,!1,null,"d7c98f12",null);t["default"]=h.exports},"83ed":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",clear:e.initPerTrain},on:{clear:e.initPerTrain},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initPerTrain(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initPerTrain}},[e._v(" 搜索 ")])],1),i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddView}},[e._v(" 添加用户 ")])],1)]),i("div",{staticStyle:{"margin-top":"8px"}},[i("el-table",{attrs:{data:e.perTrain,stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"employee.name",fixed:"",align:"left",label:"姓名",width:"90"}}),i("el-table-column",{attrs:{prop:"employee.gender",label:"性别",align:"center",width:"85"}}),i("el-table-column",{attrs:{prop:"employee.birthday",label:"出生日期",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"employee.idcard",label:"身份证",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"employee.email",label:"电子邮件",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"employee.phone",width:"100",align:"center",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"employee.address",width:"220",align:"center",label:"联系地址"}}),i("el-table-column",{attrs:{prop:"traindate",width:"100",align:"center",label:"培训时间"}}),e._v("c "),i("el-table-column",{attrs:{prop:"traincontent",width:"150",align:"left",label:"培训内容"}}),i("el-table-column",{attrs:{prop:"remark",width:"200",align:"left",label:"备注"}}),i("el-table-column",{attrs:{fixed:"right",width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"danger"},on:{click:function(i){return e.deleteEmpTran(t.row)}}},[e._v("删除 ")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:""}},[i("div",{staticStyle:{display:"inline-flex"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",readonly:"",placeholder:"请输入员工姓名"},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}}),i("el-input",{staticStyle:{width:"300px",display:"none"},attrs:{size:"mini","prefix-icon":"el-icon-edit",readonly:"",placeholder:"请输入员工姓名"},model:{value:e.pre.eid,callback:function(t){e.$set(e.pre,"eid",t)},expression:"pre.eid"}}),i("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"mini"},on:{click:e.showEmp}},[e._v("选择员工")])],1)])],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:""}},[i("el-tag",[e._v("培训内容")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.pre.traincontent,expression:"pre.traincontent"}],staticStyle:{resize:"none","border-radius":"5px",outline:"0"},attrs:{cols:"85",rows:"9"},domProps:{value:e.pre.traincontent},on:{input:function(t){t.target.composing||e.$set(e.pre,"traincontent",t.target.value)}}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:""}},[i("el-tag",[e._v("备注")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.pre.remark,expression:"pre.remark"}],staticStyle:{resize:"none","border-radius":"5px",outline:"0"},attrs:{cols:"85",rows:"9"},domProps:{value:e.pre.remark},on:{input:function(t){t.target.composing||e.$set(e.pre,"remark",t.target.value)}}})],1)],1)],1),i("el-button",{on:{click:e.dialogVisibleClose}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmpTran}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{visible:e.dialogVisible2,width:"60%",height:"50%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("el-table",{attrs:{data:e.emp.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})),stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"name",fixed:"",align:"left",label:"姓名",width:"90"}}),i("el-table-column",{attrs:{prop:"gender",label:"性别",align:"center",width:"85"}}),i("el-table-column",{attrs:{prop:"birthday",label:"出生日期",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"idcard",label:"身份证",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"email",label:"电子邮件",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"center",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"address",width:"220",align:"center",label:"联系地址"}}),i("el-table-column",{attrs:{fixed:"right",width:"200",align:"center",label:"操作"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.choose(t.row)}}},[e._v("选择")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total2},on:{"current-change":e.currentChange2,"size-change":e.sizeChange2}})],1)],1)],1)},l=[],n=(i("b0c0"),{name:"PerTrain",data:function(){return{title:"",perTrain:[],emp:[],keywords:"",dialogVisible:!1,dialogVisible2:!1,pre:{eid:"",traincontent:"",remark:""},page:1,size:10,total:0,total2:0,page2:1,size2:10,search:"",inputName:""}},methods:{deleteEmpTran:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.employee.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/personnel/train/"+e.id).then((function(e){e&&t.initPerTrain()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},showEditEmpView:function(e){this.title="更新员工培训信息",this.dialogVisible=!0,this.inputName=e.employee.name,this.pre=e},doAddEmpTran:function(){var e=this;this.pre.eid&&this.pre.traincontent&&this.pre.remark?this.pre.id?this.putRequest("/personnel/train/",this.pre).then((function(t){t&&(e.initPerTrain(),e.empty(),e.dialogVisible=!1)})):this.postRequest("/personnel/train/",this.pre).then((function(t){t&&(e.initPerTrain(),e.empty(),e.dialogVisible=!1)})):this.$message({type:"info",message:"不能为空"})},empty:function(){this.pre.eid="",this.pre.traincontent="",this.pre.remark="",this.inputName="",this.id=""},dialogVisibleClose:function(){this.dialogVisible=!1,this.pre.eid="",this.pre.traincontent="",this.pre.remark="",this.inputName=""},choose:function(e){this.pre.eid=e.id,this.inputName=e.name,this.dialogVisible2=!1},currentChange:function(e){this.page=e,this.initPerTrain()},sizeChange:function(e){this.size=e,this.initPerTrain()},currentChange2:function(e){this.page2=e,this.initEmp()},sizeChange2:function(e){this.size2=e,this.initEmp()},showEmp:function(){this.dialogVisible2=!0,this.initEmp()},showAddView:function(){this.empty(),this.title="添加员工培训信息",this.dialogVisible=!0,this.pre.id=""},initPerTrain:function(){var e=this;this.getRequest("/personnel/train/?page="+this.page+"&size="+this.size+"&keywords="+this.keywords).then((function(t){t&&(e.perTrain=t.data,e.total=t.total)}))},initEmp:function(){var e=this;this.getRequest("/personnel/train/emp?page="+this.page2+"&size="+this.size2).then((function(t){t&&(e.emp=t.data,e.total2=t.total)}))}},mounted:function(){this.initPerTrain()}}),r=n,s=i("2877"),o=Object(s["a"])(r,a,l,!1,null,"b42dad0a",null);t["default"]=o.exports},cfbb:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",clear:e.initEmpMove},on:{clear:e.initEmpMove},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmpMove(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initEmpMove}},[e._v(" 搜索 ")])],1),i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddView}},[e._v(" 调动员工 ")])],1)]),i("div",{staticStyle:{"margin-top":"8px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.empMove,stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"employee.name",fixed:"",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"department.name",label:"调动前部门",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",label:"调动前职称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"afterdepid",label:"调动后部门",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"afterjobid",label:"调动后职称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"removedate",label:"调动时间",align:"center",width:"150"}}),i("el-table-column",{attrs:{prop:"reason",label:"调动原因",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"200"}}),i("el-table-column",{attrs:{fixed:"right",width:"220",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},on:{click:function(i){return e.showEditView(t.row)}}},[e._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"danger"},on:{click:function(i){return e.deleteEmpMove(t.row)}}},[e._v("删除 ")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"empForm",attrs:{rules:e.rules,model:e.empMoves}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("div",{staticStyle:{display:"inline-flex"}},[i("el-input",{staticStyle:{width:"200px",display:"none"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.empMoves.eid,callback:function(t){e.$set(e.empMoves,"eid",t)},expression:"empMoves.eid"}}),i("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",readonly:"",placeholder:"请输入员工姓名"},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}}),i("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"mini"},on:{click:e.showEmp}},[e._v("选择员工")])],1)])],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"员工调动前部门:",prop:"name"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit",placeholder:"请输入员工之前部门"},model:{value:e.beforeDep,callback:function(t){e.beforeDep=t},expression:"beforeDep"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"员工调动前职称:",prop:"name"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",readonly:"","prefix-icon":"el-icon-edit",placeholder:"请输入员工之前职称"},model:{value:e.beforeJob,callback:function(t){e.beforeJob=t},expression:"beforeJob"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"员工调动后部门:",prop:"afterdepid"}},[i("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.popVisible,callback:function(t){e.popVisible=t},expression:"popVisible"}},[i("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),i("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:e.showDeptView},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"员工调动后职称:",prop:"afterjobid"}},[i("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入员工调动后职称",size:"mini"},model:{value:e.empMoves.afterjobid,callback:function(t){e.$set(e.empMoves,"afterjobid",t)},expression:"empMoves.afterjobid"}},e._l(e.joblevels,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"调动原因:",prop:"reason"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入调动原因"},model:{value:e.empMoves.reason,callback:function(t){e.$set(e.empMoves,"reason",t)},expression:"empMoves.reason"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:13}},[i("el-form-item",{attrs:{label:"备注:",prop:"remark"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:e.empMoves.remark,callback:function(t){e.$set(e.empMoves,"remark",t)},expression:"empMoves.remark"}})],1)],1)],1)],1)],1),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addEmpMove}},[e._v("确 定")])],1),i("el-dialog",{attrs:{visible:e.dialogVisible2,width:"60%",height:"50%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("el-table",{attrs:{data:e.emp.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})),stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"name",fixed:"",align:"left",label:"姓名",width:"90"}}),i("el-table-column",{attrs:{prop:"gender",label:"性别",align:"center",width:"85"}}),i("el-table-column",{attrs:{prop:"birthday",label:"出生日期",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"dname",label:"部门名称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"jname",label:"职称",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"idcard",label:"身份证",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"email",label:"电子邮件",align:"center",width:"200"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"center",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"address",width:"220",align:"center",label:"联系地址"}}),i("el-table-column",{attrs:{fixed:"right",width:"200",align:"center",label:"操作"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.choose(t.row)}}},[e._v("选择")])]}}])})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total2},on:{"current-change":e.currentChange2,"size-change":e.sizeChange2}})],1)],1)],1)},l=[],n=(i("b0c0"),{name:"PerMv",data:function(){return{title:"",page:1,size:10,total:0,allDeps:[],defaultProps:{children:"children",label:"name"},popVisible:!1,inputDepName:"",joblevels:[],inputName:"",rules:{afterdepid:[{required:!0,message:"不能为空",trigger:"blur"}],afterjobid:[{required:!0,message:"不能为空",trigger:"blur"}],reason:[{required:!0,message:"不能为空",trigger:"blur"}],remark:[{required:!0,message:"不能为空",trigger:"blur"}]},keywords:"",empMove:[],empMoves:{eid:"",afterdepid:"",afterjobid:"",reason:"",remark:""},beforeDep:"",beforeJob:"",dialogVisible:!1,total2:0,page2:1,size2:10,search:"",dialogVisible2:!1,emp:[]}},methods:{currentChange:function(e){this.page=e,this.initEmpMove()},sizeChange:function(e){this.size=e,this.initEmpMove()},showDeptView:function(){this.popVisible=!this.popVisible},handleNodeClick:function(e){this.popVisible=!1,this.inputDepName=e.name,this.empMoves.afterdepid=e.name,this.empMoves.afterdepid=e.name},initData:function(){var e=this;this.getRequest("/emp/basic/jobLevels/").then((function(t){t&&(e.joblevels=t),e.getRequest("/system/basic/department/").then((function(t){t&&(e.allDeps=t)}))}))},choose:function(e){this.inputName=e.name,this.empMoves.eid=e.id,this.beforeDep=e.dname,this.beforeJob=e.jname,this.dialogVisible2=!1},currentChange2:function(e){this.page2=e,this.initEmp()},sizeChange2:function(e){this.size2=e,this.initEmp()},showEmp:function(){this.dialogVisible2=!0,this.initEmp()},initEmp:function(){var e=this;this.getRequest("/personnel/train/emp?page="+this.page2+"&size="+this.size2).then((function(t){t&&(e.emp=t.data,e.total2=t.total)}))},empty:function(){this.empMoves.eid="",this.empMoves.afterdepid="",this.empMoves.afterjobid="",this.empMoves.reason="",this.empMoves.remark="",this.inputDepName="",this.inputName="",this.beforeDep="",this.beforeJob=""},deleteEmpMove:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.employee.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/personnel/remove/"+e.id).then((function(e){e&&t.initEmpMove()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},showEditView:function(e){this.title="更新员工调动",this.initData(),this.inputName=e.employee.name,this.beforeDep=e.department.name,this.beforeJob=e.jobLevel.name,this.inputDepName=e.afterdepid,this.empMoves=e,console.log(e),this.dialogVisible=!0},initEmpMove:function(){var e=this;this.getRequest("/personnel/remove/?page="+this.page+"&size="+this.size+"&keywords="+this.keywords).then((function(t){t&&(e.empMove=t.data,e.total=t.total)}))},addEmpMove:function(){var e=this;this.$refs["empForm"].validate((function(t){t&&(e.empMoves.id?e.putRequest("/personnel/remove/",e.empMoves).then((function(t){t&&(e.dialogVisible=!1,e.initEmpMove(),e.empty())})):e.inputName&&e.postRequest("/personnel/remove/",e.empMoves).then((function(t){t&&(e.dialogVisible=!1,e.initEmpMove(),e.empty())})))}))},showAddView:function(){this.title="添加员工调动",this.dialogVisible=!0,this.initData()}},mounted:function(){this.initEmpMove()}}),r=n,s=i("2877"),o=Object(s["a"])(r,a,l,!1,null,"cc7234f8",null);t["default"]=o.exports},d9ac:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("员工奖惩")])},l=[],n={name:"PerEc"},r=n,s=i("2877"),o=Object(s["a"])(r,a,l,!1,null,"6cb5e20e",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-7c2028a2.5866c164.js.map